define("local_vmoodle/hostform",["jquery","core/config","core/log"],(function($,cfg,log){return{init:function(){$("#id_shortname").bind("change",this.syncSchema),$("#id_testconnection").bind("click",this.opencnxpopup),$("#id_testdatapath").bind("click",this.opendatapathpopup),$("#id_mnet").bind("click",this.switcherservices),log.debug("AMD VMoodle Hostform initialized")},opencnxpopup:function(){var dbtype=$("#id_vdbtype").val(),dbhost=$("#id_vdbhost").val(),dblogin=$("#id_vdblogin").val(),dbpass=$("#id_vdbpass").val(),dbname=$("#id_vdbname").val(),url=cfg.wwwroot+"/local/vmoodle/views/management.testcnx.php?";url+="vdbtype="+dbtype,url+="&vdbhost="+encodeURIComponent(dbhost),url+="&vdblogin="+encodeURIComponent(dblogin),url+="&vdbpass="+encodeURIComponent(dbpass),url+="&vdbname="+encodeURIComponent(dbname);window.open(url,"","width=500,height=300,toolbar=no,menubar=no,location=no,scrollbars=no,status=no").document.title="Vmoodle connexion test"},opendatapathpopup:function(){var datapath=$("#id_vdatapath").val(),url=cfg.wwwroot+"/local/vmoodle/views/management.testdatapath.php?";url+="dataroot="+escape(datapath);window.open(url,"","width=500,height=300,toolbar=no,menubar=no,location=no,scrollbars=no,status=no").document.title="VMoodle test data path"},switcherservices:function(){var mnetnewsubnetwork=$(this).attr("data-subnet"),multimnet=$("#id_multimnet"),services=$("#id_services");"0"===multimnet.val()||multimnet.val()===mnetnewsubnetwork?(services.val("default"),services.attr("disabled",!0)):(services.attr("disabled",!1),services.val("subnetwork"))},syncSchema:function(){var originelement=$("#id_shortname"),syncedelement2=$("#id_vdbname"),syncedelement3=$("#id_vdatapath"),syncedelement4=$("#id_vhostname");originelement.val(originelement.val().replace(/-/g,"_")),originelement.val(originelement.val().replace(/ /g,"_")),syncedelement2.val(syncedelement2.val().replace(/<%%INSTANCE%%>/g,originelement.val())),syncedelement3.val(syncedelement3.val().replace(/<%%INSTANCE%%>/g,originelement.val())),syncedelement4.val(syncedelement4.val().replace(/<%%INSTANCE%%>/g,originelement.val()))}}}));

//# sourceMappingURL=hostform.min.js.map