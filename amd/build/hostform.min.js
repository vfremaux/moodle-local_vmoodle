define ("local_vmoodle/hostform",["jquery","core/config","core/log"],function(a,b,c){return{init:function init(){a("#id_shortname").bind("change",this.syncSchema);a("#id_testconnection").bind("click",this.opencnxpopup);a("#id_testdatapath").bind("click",this.opendatapathpopup);a("#id_mnet").bind("click",this.switcherservices);c.debug("AMD VMoodle Hostform initialized")},opencnxpopup:function opencnxpopup(){var c=a("#id_vdbtype").val(),d=a("#id_vdbhost").val(),e=a("#id_vdblogin").val(),f=a("#id_vdbpass").val(),g=a("#id_vdbname").val(),h=b.wwwroot+"/local/vmoodle/views/management.testcnx.php?";h+="vdbtype="+c;h+="&vdbhost="+encodeURIComponent(d);h+="&vdblogin="+encodeURIComponent(e);h+="&vdbpass="+encodeURIComponent(f);h+="&vdbname="+encodeURIComponent(g);var i=window.open(h,"","width=500,height=300,toolbar=no,menubar=no,location=no,scrollbars=no,status=no");i.document.title="Vmoodle connexion test"},opendatapathpopup:function opendatapathpopup(){var c=a("#id_vdatapath").val(),d=b.wwwroot+"/local/vmoodle/views/management.testdatapath.php?";d+="dataroot="+escape(c);var e=window.open(d,"","width=500,height=300,toolbar=no,menubar=no,location=no,scrollbars=no,status=no");e.document.title="VMoodle test data path"},switcherservices:function switcherservices(){var b=a(this),c=b.attr("data-subnet"),d=a("#id_multimnet"),e=a("#id_services");if(d.val()==="0"||d.val()===c){e.val("default");e.attr("disabled",!0)}else{e.attr("disabled",!1);e.val("subnetwork")}},syncSchema:function syncSchema(){var b=a("#id_shortname"),c=a("#id_vdbname"),d=a("#id_vdatapath"),e=a("#id_vhostname");b.val(b.val().replace(/-/g,"_"));b.val(b.val().replace(/ /g,"_"));c.val(c.val().replace(/<%%INSTANCE%%>/g,b.val()));d.val(d.val().replace(/<%%INSTANCE%%>/g,b.val()));e.val(e.val().replace(/<%%INSTANCE%%>/g,b.val()))}}});
//# sourceMappingURL=hostform.min.js.map
