{"version":3,"sources":["../src/vmoodle.js"],"names":["define","$","log","vmoodlestrings","init","bind","switch_panel","remote_filearealist","debug","that","handleid","attr","panelid","replace","handlesrc","addClass","removeClass","filtercapabilitytable","filterinput","css","value","targeturl","val","targetdiv","get","data","html"],"mappings":"AAiBAA,OAAM,yBAAC,CAAC,QAAD,CAAW,UAAX,CAAD,CAAyB,SAASC,CAAT,CAAYC,CAAZ,CAAiB,CA4D5C,MA1Dc,CAEVC,cAAc,CAAE,EAFN,CAIVC,IAAI,CAAE,eAAW,CACbH,CAAC,CAAC,0BAAD,CAAD,CAA8BI,IAA9B,CAAmC,OAAnC,CAA4C,KAAKC,YAAjD,EAGAL,CAAC,CAAC,oCAAD,CAAD,CAAsCI,IAAtC,CAA2C,QAA3C,CAAqD,KAAKE,mBAA1D,EAEAL,CAAG,CAACM,KAAJ,CAAU,0BAAV,CACH,CAXS,CAaVF,YAAY,CAAE,uBAAW,IAEjBG,CAAAA,CAAI,CAAGR,CAAC,CAAC,IAAD,CAFS,CAIjBS,CAAQ,CAAGD,CAAI,CAACE,IAAL,CAAU,IAAV,CAJM,CAKjBC,CAAO,CAAGH,CAAI,CAACE,IAAL,CAAU,IAAV,EAAgBE,OAAhB,CAAwB,aAAxB,CAAuC,EAAvC,CALO,CAMjBC,CAAS,CAAGL,CAAI,CAACE,IAAL,CAAU,KAAV,CANK,CASrBG,CAAS,CAAGA,CAAS,CAACD,OAAV,CAAkB,WAAlB,CAA+B,UAA/B,CAAZ,CACAZ,CAAC,CAAC,0BAAD,CAAD,CAA8BU,IAA9B,CAAmC,KAAnC,CAA0CG,CAA1C,EAGAA,CAAS,CAAGA,CAAS,CAACD,OAAV,CAAkB,WAAlB,CAA+B,UAA/B,CAAZ,CACAZ,CAAC,CAAC,IAAMS,CAAP,CAAD,CAAkBC,IAAlB,CAAuB,KAAvB,CAA8BG,CAA9B,EAGAb,CAAC,CAAC,mBAAD,CAAD,CAAuBc,QAAvB,CAAgC,gBAAhC,EAGAd,CAAC,CAAC,wBAA0BW,CAA3B,CAAD,CAAqCI,WAArC,CAAiD,gBAAjD,CACH,CAlCS,CAoCVC,qBAAqB,CAAE,+BAASC,CAAT,CAAsB,CACzCjB,CAAC,CAAC,gBAAD,CAAD,CAAoBkB,GAApB,CAAwB,SAAxB,CAAmC,WAAnC,EACA,GAA0B,EAAtB,GAAAD,CAAW,CAACE,KAAhB,CAA8B,CAC1BnB,CAAC,CAAC,gBAAD,CAAD,CAAoBkB,GAApB,CAAwB,SAAxB,CAAmC,MAAnC,EACAlB,CAAC,CAAC,uBAA0BiB,CAAW,CAACE,KAAtC,CAA8C,IAA/C,CAAD,CAAuDD,GAAvD,CAA2D,SAA3D,CAAsE,WAAtE,CACH,CACJ,CA1CS,CA4CVZ,mBAAmB,CAAE,8BAAW,IACxBE,CAAAA,CAAI,CAAGR,CAAC,CAAC,IAAD,CADgB,CAExBoB,CAAS,CAAGZ,CAAI,CAACa,GAAL,EAFY,CAGxBC,CAAS,CAAGtB,CAAC,CAAC,wCAAD,CAHW,CAQ5BA,CAAC,CAACuB,GAAF,CAHUH,CAAS,CAAG,8DAGtB,CAAW,SAASI,CAAT,CAAe,CACtBF,CAAS,CAACG,IAAV,CAAeD,CAAf,CACH,CAFD,CAEG,MAFH,CAGH,CAvDS,CA4DjB,CA9DK,CAAN","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n// jshint unused: true, undef:true\n\ndefine(['jquery', 'core/log'], function($, log) {\n\n    var vmoodle = {\n\n        vmoodlestrings: '',\n\n        init: function() {\n            $('.vmoodle-hide-show-image').bind('click', this.switch_panel);\n\n            // File area remote reader ajax binding.\n            $('#mform12 select[name=\"platform\"]').bind('change', this.remote_filearealist);\n\n            log.debug(\"AMD Vmoodle initialised \");\n        },\n\n        switch_panel: function() {\n\n            var that = $(this);\n\n            var handleid = that.attr('id');\n            var panelid = that.attr('id').replace('id-showctl-', '');\n            var handlesrc = that.attr('src');\n\n            // Make them all collapsed.\n            handlesrc = handlesrc.replace('collapsed', 'expanded');\n            $('.vmoodle-hide-show-image').attr('src', handlesrc);\n\n            // Reopen the clicked item.\n            handlesrc = handlesrc.replace('collapsed', 'expanded');\n            $('#' + handleid).attr('src', handlesrc);\n\n            // Close them all.\n            $('.vmoodlecmd-panel').addClass('vmoodle-hidden');\n\n            // Reopen the clicked item.\n            $('#id-vmoodlecmd-panel-' + panelid).removeClass('vmoodle-hidden');\n        },\n\n        filtercapabilitytable: function(filterinput) {\n            $('.capabilityrow').css('display', 'table-row');\n            if (filterinput.value !== '') {\n                $('.capabilityrow').css('display', 'none');\n                $('.capabilityrow[id*=\\'' + filterinput.value + '\\']').css('display', 'table-row');\n            }\n        },\n\n        remote_filearealist: function() {\n            var that = $(this);\n            var targeturl = that.val();\n            var targetdiv = $('#fitem_id_fileareaid .felement.fselect');\n\n            var url = targeturl + '/local/vmoodle/plugins/generic/ajax/get_system_fileareas.php';\n\n            // Reset the filearea choice list with target's local set.\n            $.get(url, function(data) {\n                targetdiv.html(data);\n            }, 'html');\n        }\n    };\n\n    return vmoodle;\n\n});"],"file":"vmoodle.min.js"}