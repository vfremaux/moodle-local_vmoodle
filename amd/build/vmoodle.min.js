define(["jquery","core/log"],function(a,b){var c={vmoodlestrings:"",init:function(){a(".vmoodle-hide-show-image").bind("click",this.switch_panel),a('#mform12 select[name="platform"]').bind("change",this.remote_filearealist),b.debug("AMD Vmoodle initialised ")},switch_panel:function(){var b=a(this),c=b.attr("id"),d=b.attr("id").replace("id-showctl-",""),e=b.attr("src");e=e.replace("collapsed","expanded"),a(".vmoodle-hide-show-image").attr("src",e),e=e.replace("collapsed","expanded"),a("#"+c).attr("src",e),a(".vmoodlecmd-panel").addClass("vmoodle-hidden"),a("#id-vmoodlecmd-panel-"+d).removeClass("vmoodle-hidden")},filtercapabilitytable:function(b){a(".capabilityrow").css("display","table-row"),""!==b.value&&(a(".capabilityrow").css("display","none"),a(".capabilityrow[id*='"+b.value+"']").css("display","table-row"))},remote_filearealist:function(){var b=a(this),c=b.val(),d=a("#fitem_id_fileareaid .felement.fselect"),e=c+"/local/vmoodle/plugins/generic/ajax/get_system_fileareas.php";a.get(e,function(a){d.html(a)},"html")}};return c});